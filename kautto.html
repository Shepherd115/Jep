<!DOCTYPE html>
<html lang="fi"
  <head>
    <link href="main.css" rel="stylesheet">
    <meta charset="UTF-8">
    <title>Käyttö | GrapheneOS Tieto</title>
    <meta name="description" content="Suomalaista GrapheneOS tietoa"/>
  </head>
<body>

<nav id="site-menu">
<ul style="font-size:150%";>
<li><a href="index.html"><img src="mask-icon.svg" alt=""/>GrapheneOS</a></li>
<li><a href="features.html">Ominaisuudet</a></li>
<li aria-current="page"><a href="kautto.html">Käyttö</a></li>
<li><a href="kysymys.html">Q&A</a></li>
</ul>
</nav>

<h1>Käyttö</h1>

<ul style="font-size:150%;border-left:5px solid;border-radius:10px;" class="headers">
  <li><a href="#paivitukset">Päivitykset</a></li>
  <li><a href="#exec">Exec Spawning</a></li>
  <li><a href="#usb">USB yhteydet</a></li>
  <li><a href="#salaus">Laitteen salaus</a></li>
  <li><a href="#bug">Turvallisuusominaisuuksien paljastamat bugit</a></li>
  <li><a href="#selain">Selain</a></li>
  <li><a href="#auditor">Auditor</a></li>
  <li><a href="#profiili">Käyttäjäprofiilit</a></li>
  <li><a href="#yhteen">Yhteensopivuskerros</a></li>
  <li><a href="#lte">LTE-only</a></li>
  <li><a href="#wifi">Wi-Fi yksityisyys</a></li>
  <li><a href="#kamera">Kamera</a></li>
  <li><a href="#pankki">Pankki sovellukset</a></li>
</ul>

<p1  id="paivitukset"><a style="color:white;" href="#paivitukset">Päivitykset</a></p1>
<div id="teksti"><br>GrapheneOS tarkistaa päivitysten saatavuuden joka neljäs tunti kun internet yhteys on saatavilla ja sitten lataa tämän taustalla. Se jatkaa siitä mihin se jäi joten latauksen keskeyttäminen ei ole riski, eikä ole asennuksenkaan keskeyttäminen sillä päivitykset asennetaan nykyisen rinnalle josta tulee aktiivinen vasta kun asennus on suoritettu kokonaan loppuun. Kun päivitys on suoritettu, on laite käynnistettävä uudelleen uuteen GrapheneOS versioon, jos tämä epäonnistuu niin GrapheneOS perääntyy käyttämään aiempaa versiota ja yrittää ladata ja asentaa päivityksen uudelleen. Päivittäjä käyttää inkrementaalisia päivityksiä ladatakseen ainoastaan muutokset koko käyttöjärjestelmän sijan ja toimii vaikka laite olisi lukittu tai BFU tilassa sillä se on suuniteltu toimimaan ennen laitteen salauksen purkamista.<br><br>Päivityspalvelin ei ole luotettu osapuoli sillä päivitykset signeerataan ja vahvistetaan sekä alennukset estetään paikallisesti. Päivitys protokolla ei lähetä tunnistettavia tietoja ja toimii hyvin VPN / Tor yhteyden kautta. GrapheneOS ei kykene rakentamaan, signeeraamaan ja kuljettamaan haitallista päivitystä tietylle käyttäjälle esimerkiksi IMEIn tai sarjanumeron perusteella. Päivityspalvelin ainoastaan päätyy tietämään laitteen IP osoitteen ja version jota se yrittää hakea.</div>

<p1 id="exec"><a style="color:white;" href="#exec"><br>Exec Spawning</a></p1>
<div id="teksti"><br>GrapheneOS luo uudet prosessit excecin kautta sovelluksia avatessa yleisen Zygote mallin sijan. Tämä parantaa yksityisyyttä ja turvallisuutta pidemmän sovellusten aukaisu ja korkeamman muistinkäytön hinnalla. Se ei vaikuta suorituskykyyn pidemmän aukaisuajan lisäksi. Se lisää noin 100ms sovellusten aukaisuun jaa on ainoastaan huomattava vanhoilla laitteilla joissa on heikompi CPU ja pienmpi tallennustila.<br><br>Yleisessä Zygote mallissa mallisovellus prosessi luodaan käynnistyksen yhteydessä ja jokainen sovellus aukaistaan sen kloonina, toisinkuin Execissä jossa jokaiselle sovellukselle luodaan kokonaan oma malli. Tämä tarkoittaa että Zygotessa jokaisella sovelluksella on sama alku muistisisältö ja järjestys, mukaanlukien tiedot jotka kuuluisi olla randomisoitu jokaisella prosessilla. Se säästää aikaa uudelleen käyttämällä samaa mallisovellus prosessia jokaiselle sovellukselle.<br><br>Zygote malli heikentää / rampauttaa useita turvallisuus ominaisuuksia sillä jokaisella sovelluksella on pääsy muiden sovellusten arvoihin ja nämä ei muutu ennen laitteen uudelleenkäynnistystä. Zygoten mallisvoellus prosessia myös käytetään globaalisti profiilien välillä joten se antaa tilapäisen sarjan tunnisteita näiden välillä.</div>

<p1 id="usb"><a style="color:white;" href="#usb"><br>USB yhteydet</a></p1>
<div id="teksti"><br>GrapheneOS oletuksena hylkää uudet USB pyynnöt kun näyttö on lukittu, tämän voi kuitenkin vaihtaa asetuksista ja GrapheneOS lisää kolme vaihtoehtoa:</div>
<ul style="font-size:135%;">
  <li>Hylkää USB pyynnöt</li>
  <li>Salli USB pyynnöt kun laite on avattu (oletus)</li>
  <li>Salli USB pyynnöt (Kuten stock-androidilla)</li>
</ul>

<p1 id="salaus"><a style="color:white;" href="#salaus">Laitteen salaus</a></p1>
<div id="teksti"><br>Pixel puhelimien TitanM käsittelee PIN-koodit ja salasanat, Kun oikea laitteen salasana syötetään, TitanM laskee ja vapauttaa tokenin laitteelle jota tämä voi käyttää luodakseen avaimen. Jokainen tiedosto salataan algoritmilla AES-256-XTS ja metatiedot algoritmilla AES-256-HEH ja jokaisella käyttäjäprofiililla on myös omat salausavaimet.<br><br>
Android 7 myötä tuli file-based salaus joka on vieläkin käytössä, File-based salauksella on muutamia tärkeitä etuja full-disk salaukseen verrattuna kuten</div>
<ul style="font-size:135%;">
  <li>Mahdollistaa <a href="https://shepherd115.github.io/Jep/kautto.html#profiili">käyttäjäprofiilien</a> tekemisen turvallisemmaksi sillä kun käyttäjä kirjautuu ulos salausavaimet voidaan tuhota muistista. Tämä ei ole vaihtoehto full-disk salauksessa sillä se on enemmänkin all-or-nothing</li>
  <li>Kyky päivittyä vaikka laitetta ei olisi avattu</li>
  <li>Kyky ottaa kuvia lukitusnäytöltä ilman laitteen salauksen avaamista</li>
</ul>

<p1 id="bug"><a style="color:white;" href="#bug">Turvallisuusominaisuuksien paljastamat bugit</a></p1>
<div id="teksti"><br>GrapheneOS huomattavasti kohottaa laitteiston kykyjä tarjota parempaa suojausta muistin korruptio ongelmia vastaan. Jotkut ominaisuuksista on suuniteltu suoraan nappaamaan muistin korruptio bugi joko tarkistuksella tai muistin suojauksella ja abortoimaan sovellus ettei sitä voitaisiin hyväksikäyttää. Muut ominaisuudet lieventävät ongelmaa ei niin suoraa kuten nollaamalla muistialueen välittömästi vapautuksen jälkeen, eristetyillä muistialueilla, pinon randomisoinnilla jne. Bugit jotka saattavat aiheutua näistä ei ole GrapheneOSsän aiheuttamia vaan jo olemassa olevia bugeja jotka paljastuvat vahvistusten vuoksi.
<br><br>Samanlailla jotkut ominaisuudet voivat pienentää sovelluksen pääsyä tiettyihin resursseihin ja sovellus voi kaatua. Jotkut näistä ovat aina käytössä ilman käyttäjän interaktiota kun taas esimerkiksi Sensors ja Network lupa on käyttäjän hallinnassa. Sovellukset eivät välttämättä kestä näiden oikeuksien pois ottamista.</div>

<p1 id="selain"><a style="color:white;" href="#selain"><br>Selain</a></p1>
<div id="teksti"><br>GrapheneOS sisältää sivuprojektin Vanadium joka tarjoaa yksityisyys ja turvallisuus vahvistetun chromium selaimen. Vanadium on molemmat user-facing selain sekä järjestelmän WebView jota muut sovellukset ja selaimet käyttävät sisällön näyttämiseen. Vanadium on osa käyttöjärjestelmää joten se ei tuplaa käyttöjärjestelmän ominaisuuksia kuten hardened_malloccia vaan kykenee hyödyntämään tätä ja muita käyttöjärjestelmän komponentteja. Chromium pohjaiset selaimet kuten Vanadium tarjoaa vahvimman sandbox implementaation, se on paljon vaikeampaa paeta sandboxista ja se tarjoaa paljon enemmän kuin vain muurin loppu käyttöjärjestelmän ja selaimen välille. Site-isolation pakottaa turvallisuus muurin jokaisen sivuston ympärille asettaen jokaisen sivun eristettyyn sandboxiin. Selaimet ilman site-isolation ominaisuutta ovat erittäin alttiita hyökkäyksille kuten Spectre. Mobiililaitteilla muistin vähäisyyden vuoksi site-isolation sisältää eri vaihtoehtoja ja Vanadium käyttää strict-site-isolation täsmäten chromiumia pöytäkoneilla.<br><br> Chromiumilla on kohtalaiset exploittien mitigointi tekniikat toisinkuin muilla, tämä on paranneltua Vanadiumissa ottaen käyttöön useita muitakin tekniikoita kuten niitä jotka on kehitetty up-streamissa mutta ei vielä yleensä otettu käyttöön suortituskyvyn, koodin koon tai muistinkäytön vuoksi. Se esimerkiksi ottaa käyttöön type-based-CFIn, käyttää vahvempaa SSP konfiguraatiota ja <a href="https://github.com/GrapheneOS/Vanadium/tree/11/patches">paljon muuta.</a><br><br>Vanadium ei sisällä kykyä asentaa selaimeen lisäosia sillä useimmat näistä on pelkkää teatteri esitystä ilman selvää uhkamallia ja usein vähentää yksityisyyttä saamalla käyttäjän erottumaan joukosta. Enumerating Badness ei ole viisas yritys parantaa yksityisyyttä, samanlailla kuin AntiVirus sovellukset ei ole viisas yritys parantaa turvallisuutta.<br><br> On hyvä välttää Gecko pohjaisia selaimia kuten Firefoxia sillä ne ovat huomattavasti heikompia ja lisää jättimäisiä määriä hyökkäyspintaa, Gecko ei myöskään sisällä Web-View implementaatiota joten sitä on käytettävä Vanadiumin Web-Viewin rinnalla joka tarkottaisi hyökkäyspinnan tuplaamista sillä nyt olisi kaksi selain moottoria yhden sijan. Firefox myös toimii yhtensä prosessina eikä käytä site-isolation ominaisuutta tai CFI:tä ja <a href="https://madaidans-insecurities.github.io/firefox-chromium.html">paljon muuta.</a></div>

<p1 id="auditor"><a style="color:white;" href="#auditor"><br>Auditor</a></p1>
<div id="teksti"><br>Verified-boot todentaa ja vahvistaa laiteohjelmiston ja käyttöjärjestelmän laitteiston RoTista (Root Of Trust). Ja koska GrapheneOS tukee kokonaista verified-boottia niin imaget ovat kokonaan vahvistettuja. On kuitenkin mahdollista että tietokone jolla asennus suoritettiin on ollut vaarantunut johtaen haitallisen julkisen avaimen ja imagen asennukseen. Tälläisen hyökkäyksen havaitsemiseen voi käyttää ennalta asennettua Auditor sovellusta joka vahvistaa käyttöjärjestelmän autenttisuuden ja koskemattomuuden toisen Android laitteen avulla. Lisää Auditorista <a href="https://attestation.app/about">Tästä</a></div>

<p1 id="profiili"><a style="color:white;" href="#profiili"><br>Käyttäjäprofiilit</a></p1>
<div id="teksti"><br>Käyttäjäprofiilit lisää mahdollisuuden omistaa useita vahvasti eristettyjä ympäristöjä mikä on monilla tavoin sama kuin omistaisi erillisen laitteen. Jokaisella käyttäjäprofiililla on omat salausavaimet, sovellukset, yhteystiedot, tiedostot, asetukset, leikepöytä ja näppäimistö. Etu erillisen käyttäjäprofiilin käyttämisessä normaalissa käytössä on kyky asettaa tämä lepoon ja tuhota tämän salausavaimet kun profiilia ei käytetä. Tämä ei ole mahdollista omistaja profiilissa ilman laitteen uudelleenkäynnistämistä sillä omistajaprofiili säilöö koko systeemiä koskevia prosesseja.<br><br>Käyttäjäprofiileja voi myös hyödyntää tilanteessa jossa sovellus vaatii pääsyä yksityisiin tietoihin (esim. pääsy kaikkiin tiedostoihin) tai / ja jos IPC on huolenaihe. Näiden asettaminen käyttäjäprofiiliin jossa ei ole sensitiivistä tietoa voi olla hyvä idea yksityisyyden kannalta sillä sovellukset eivät voi keskustella profiilien välillä ja profiilin tyhjyys takaa että vaikka sovellus vaatisi tietoa esim yhteystietoihin, ei profiilissa olisi yhteystietoja vietäväksi.</div>

<p1 id="yhteen"><a style="color:white;" href="#yhteen"><br>Yhteensopivuuskerros</a></p1>
<div id="teksti"><br>Useat Android sovellukset vaativat Googlen playpalveluita toimintaan. Android sovellusten yhteensopivuus on tärkeä osa projektia joten on kehitetty turvallinen, yksityinen ja robusti tapa hyödyntää playpalveluita. GrapheneOS antaa mahdollisuuden asentaa playkaupan ja playpalvelut normaaleina sandboxattuina sovelluksina ilman erityisiä oikeuksia haluttuun profiiliin eikä käyttöjärjestelmä itse käytä näitä mihinkään. Nämä eivät saa heidän yleisiä oikeuksia ja SElinux poikkeuksia.</div>

<p1 id="lte"><a style="color:white;" href="#lte"><br>LTE-only</a></p1>
<div id="teksti"><br>On mahdollista kytkeä 2G / 3G kokonaan pois päältä LTE-only kytkimellä. Tämän tarkoitus on pienentää hyökkäyspintaa poistamalla nämä vanhat teknologiat. Sen tarkoitus EI OLE saada puhelinoperaattorista jotain mihin <a href="https://shepherd115.github.io/Jep/kysymys.html#verkot">voisi luottaa</a> vaan sen ainoa tarkoitus on hyökkäyspinnan pienentäminen. Normaalit puhelut eivät toimi LTE-only tilassa.</div>

<p1 id="wifi"><a style="color:white;" href="#wifi"><br>Wi-Fi yksityisyys</a></p1>
<div id="teksti"><br>GrapheneOS Wi-Fi on erittäin yksityisyys-ystävällinen ja periaatteessa anonyymi kunhan sovellukset eivät vuoda tunnisteita verkkoon. Verkot ei voi tunnistaa että laitteella on GrapheneOS.<br>MAC randomisointi on aina käytössä kun Wi-Fi verkkoja skannataan. Pixel puhelimissa on laiteohjelmisto tuki joka antaa näille <a href="https://android-developers.googleblog.com/2017/04/changes-to-device-identifiers-in.html">huomattavasti paremman MAC osoitteen randomisoinnin</a> joka menee yli yleisen naiivin implementaation. Monilla muilla laitteilla laite vuotaa esimerkiksi packet-sequence-numberin ja tunnisteita probe-requestissa<br>Wi-Fi ja bluetooth skannaus sijainnin parantamiseksi on poissa käytöstä oletuksena.</div>

<p1 id="kamera"><a style="color:white;" href="#kamera"><br>Kamera</a></p1>
<div id="teksti"><br>Kamera sovellus joka käyttöjärjestelmässä tulee mukana on AOSPn kamerasovellus joka on erittäin minimaalinen eikä kykene käyttämään Pixel puhelimien laitteistoa kunnolla. Oma kamera sovellus on työn alla mutta tilapäisesti Open Camera on hieman edistyneempi mutta ei kykene täysin hyödyntämään laitteistoa. Google kamera on asennettavissa profiiliin jossa on yhteensopivuuskerros. Tämä kykenee kokonaan hyödyntämään Pixelien laitteistoa.<br><br>Oma kamerasovellus on alpha kokeilussa tällä hetkellä.</div>

<p1 id="pankki"><a style="color:white;" href="#pankki"><br>Pankki sovellukset</a></p1>
<div id="teksti"><br>Pankki sovellukset ovat erittäin hankalia sovelluksia sillä näillä usein on heikkoja yrityksiä estää reverse-engineering yritykset. GrapheneOS sisältää "disable native code debugging" kytkimen parantamaan sovellusten sandboxia entisestään mutta tämä voi häiritä pankki sovelluksia kun he yrittävät rakentaa muureja koodin tarkkailun estämiseksi johtaen kyseisten sovellusten toimimattomuuteen.</div>

<br><br><br><br><br>

</body>
</html>
